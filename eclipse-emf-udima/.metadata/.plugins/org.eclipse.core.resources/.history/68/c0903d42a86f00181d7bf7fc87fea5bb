// automatically generated by Xtext
grammar es.udima.cesarlaso.tfm.Dsl2 with org.eclipse.xtext.common.Terminals

import "http://tfm.cesarlaso.udima.es/communications/programs" 
import "http://www.eclipse.org/emf/2002/Ecore" as ecore
import "http://tfm.cesarlaso.udima.es/events" as events
import "http://tfm.cesarlaso.udima.es/gpios/events" as gpiosevents
import "http://tfm.cesarlaso.udima.es/events" as events0
import "http://tfm.cesarlaso.udima.es/gpios" as gpios
import "http://tfm.cesarlaso.udima.es/events" as events1
import "http://tfm.cesarlaso.udima.es/servers" as servers
import "http://tfm.cesarlaso.udima.es/healthmonitors" as healthmonitors
import "http://tfm.cesarlaso.udima.es/timers" as timers
import "http://tfm.cesarlaso.udima.es/communications/healths" as communicationshealths
import "http://tfm.cesarlaso.udima.es/healthmonitors" as healthmonitors0
import "http://tfm.cesarlaso.udima.es/communications/events" as communicationsevents
import "http://tfm.cesarlaso.udima.es/events" as events2
import "http://tfm.cesarlaso.udima.es/gpios/actuators" as gpiosactuators
import "http://tfm.cesarlaso.udima.es/timers" as timers0
import "http://tfm.cesarlaso.udima.es/gpios" as gpios0
import "http://tfm.cesarlaso.udima.es/deploymentdevices" as deploymentdevices
import "http://tfm.cesarlaso.udima.es/operatingsystemactuators" as operatingsystemactuators
import "http://tfm.cesarlaso.udima.es/communications" as communications
import "http://tfm.cesarlaso.udima.es/communications/status" as communicationstatus
import "http://tfm.cesarlaso.udima.es/iotproyects" as iotproyects
import "http://tfm.cesarlaso.udima.es/programs" as programs
import "http://tfm.cesarlaso.udima.es/deploymentdevices" as deploymentdevices0
import "http://tfm.cesarlaso.udima.es/servers" as servers0
import "http://tfm.cesarlaso.udima.es/healthmonitors" as healthmonitors1
import "http://tfm.cesarlaso.udima.es/timers" as timers1
import "http://tfm.cesarlaso.udima.es/events" as events3
import "http://tfm.cesarlaso.udima.es/gpios" as gpios1
import "http://tfm.cesarlaso.udima.es/programs" as programs0
import "http://tfm.cesarlaso.udima.es/gpios" as gpios2
import "http://tfm.cesarlaso.udima.es/communications/programs" as communicationsprograms
import "http://tfm.cesarlaso.udima.es/operatingsystemactuators" as operatingsystemactuators0
import "http://tfm.cesarlaso.udima.es/events" as events4

IotProyect returns iotproyects::IotProyect:
	'IotProyect'
	name=EString
	'{'
		'productCode' productCode=EInt
		'version' version=EInt
		'program' program=Program
		'deploymentDevice' '{' deploymentDevice+=Device ( "," deploymentDevice+=Device)* '}' 
		('server' '{' server+=Server ( "," server+=Server)* '}' )?
		('healthMonitors' '{' healthMonitors+=HealthMonitorItem ( "," healthMonitors+=HealthMonitorItem)* '}' )?
	'}';


Device returns deploymentdevices0::Device:
	Simulator | Raspberry | Beaglebone | ESP8266;

Server returns servers0::Server:
	JavaServer;

HealthMonitorItem returns healthmonitors1::HealthMonitorItem:
	CpuLoadItem | RamLoadItem | CpuTemperatureItem | GpuTemperatureItem | StorageItem | NetworkItem;


Pin returns gpios3::Pin:
	DigitalInputPin | DigitalOutputPin | AnalogInputPin | AnalogOutputPin;

RemoteIdentifier returns communicationsprograms0::RemoteIdentifier:
	RemoteEventIdentifier | RemoteActuatorIdentifier;



Actuator returns events5::Actuator:
	SequentialActuators;


Timer returns timers2::Timer:
	Now | Repeated | Clock | Cron;



EString returns ecore::EString:
	STRING | ID;

EInt returns ecore::EInt:
	'-'? INT;

Program returns programs::Program:
	'Program'
	'{'
		'state' state=[programs::ProgramState|EString]
		'states' '{' states+=ProgramState ( "," states+=ProgramState)* '}' 
		('gpioAliases' '{' gpioAliases+=Pin ( "," gpioAliases+=Pin)* '}' )?
		('remoteIdentifiers' '{' remoteIdentifiers+=RemoteIdentifier ( "," remoteIdentifiers+=RemoteIdentifier)* '}' )?
		('files' '{' files+=FilePath ( "," files+=FilePath)* '}' )?
	'}';

ProgramState returns programs::ProgramState:
	'ProgramState'
	name=EString
	'{'
		'events' '{' events+=Event ( "," events+=Event)* '}' 
	'}';

FilePath returns operatingsystemactuators1::FilePath:
	'FilePath'
	name=EString
	'{'
		'filePath' filePath=EString
	'}';

SequentialActuators returns events5::SequentialActuators:
	'SequentialActuators'
	'{'
		'actuators' '{' actuators+=Actuator ( "," actuators+=Actuator)* '}' 
	'}';

DigitalInputPin returns gpios3::DigitalInputPin:
	'DigitalInputPin'
	name=EString
	'{'
		'number' number=EInt
	'}';

DigitalOutputPin returns gpios3::DigitalOutputPin:
	'DigitalOutputPin'
	name=EString
	'{'
		'number' number=EInt
	'}';

AnalogInputPin returns gpios3::AnalogInputPin:
	'AnalogInputPin'
	name=EString
	'{'
		'number' number=EInt
		'resolution' resolution=DacResolution
	'}';

AnalogOutputPin returns gpios3::AnalogOutputPin:
	'AnalogOutputPin'
	name=EString
	'{'
		'number' number=EInt
		'resolution' resolution=DacResolution
	'}';

enum DacResolution returns gpios3::DacResolution:
				Bits8 = 'Bits8' | Bits12 = 'Bits12' | Bits16 = 'Bits16' | Bits24 = 'Bits24';

RemoteEventIdentifier returns communicationsprograms0::RemoteEventIdentifier:
	{communicationsprograms0::RemoteEventIdentifier}
	'RemoteEventIdentifier'
	name=EString;

RemoteActuatorIdentifier returns communicationsprograms0::RemoteActuatorIdentifier:
	{communicationsprograms0::RemoteActuatorIdentifier}
	'RemoteActuatorIdentifier'
	name=EString;

WifiConfiguration returns deploymentdevices0::WifiConfiguration:
	'WifiConfiguration'
	'{'
		'ssid' ssid=EString
		'password' password=EString
	'}';

Simulator returns deploymentdevices0::Simulator:
	{deploymentdevices0::Simulator}
	'Simulator'
	'{'
		('wifiConfiguration' wifiConfiguration=WifiConfiguration)?
	'}';

Raspberry returns deploymentdevices0::Raspberry:
	{deploymentdevices0::Raspberry}
	'Raspberry'
	'{'
		('wifiConfiguration' wifiConfiguration=WifiConfiguration)?
	'}';

Beaglebone returns deploymentdevices0::Beaglebone:
	{deploymentdevices0::Beaglebone}
	'Beaglebone'
	'{'
		('wifiConfiguration' wifiConfiguration=WifiConfiguration)?
	'}';

ESP8266 returns deploymentdevices0::ESP8266:
	{deploymentdevices0::ESP8266}
	'ESP8266'
	'{'
		('wifiConfiguration' wifiConfiguration=WifiConfiguration)?
	'}';

JavaServer returns servers0::JavaServer:
	'JavaServer'
	'{'
		'networkInterfaceAddress' networkInterfaceAddress=EString
		'networkInterfacePort' networkInterfacePort=EInt
	'}';

CpuLoadItem returns healthmonitors1::CpuLoadItem:
	'CpuLoadItem'
	'{'
		'time' time=Timer
	'}';

RamLoadItem returns healthmonitors1::RamLoadItem:
	'RamLoadItem'
	'{'
		'time' time=Timer
	'}';

CpuTemperatureItem returns healthmonitors1::CpuTemperatureItem:
	'CpuTemperatureItem'
	'{'
		'time' time=Timer
	'}';

GpuTemperatureItem returns healthmonitors1::GpuTemperatureItem:
	'GpuTemperatureItem'
	'{'
		'time' time=Timer
	'}';

StorageItem returns healthmonitors1::StorageItem:
	'StorageItem'
	'{'
		'time' time=Timer
	'}';

NetworkItem returns healthmonitors1::NetworkItem:
	'NetworkItem'
	'{'
		'time' time=Timer
	'}';

Now returns timers2::Now:
	{timers2::Now}
	'Now'
	;

Repeated returns timers2::Repeated:
	'Repeated'
	'{'
		'value' value=TimeUnitValue
	'}';

Clock returns timers2::Clock:
	'Clock'
	'{'
		'value' value=Time
	'}';

Cron returns timers2::Cron:
	'Cron'
	'{'
		'value' value=EString
	'}';

TimeUnitValue returns timers2::TimeUnitValue:
	'TimeUnitValue'
	'{'
		'value' value=EInt
		'unit' unit=TimeUnitType
	'}';

enum TimeUnitType returns timers2::TimeUnitType:
				Millisecond = 'Millisecond' | Second = 'Second' | Minute = 'Minute' | Hour = 'Hour';

Time returns timers2::Time:
	'Time'
	'{'
		'hour' hour=EInt
		'minute' minute=EInt
		'second' second=EInt
	'}';
